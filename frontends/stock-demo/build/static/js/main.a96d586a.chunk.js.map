{"version":3,"sources":["assets/img/logo.png","store.js","App.js","websocket.js","index.js"],"names":["module","exports","masterSkus","code","name","color","initialState","websocket","connected","error","socket","readerCount","readers","tags","skus","map","x","count","store","createContext","Provider","toHexString","arr","str","toString","slice","toHexStringWithSeparator","sep","replace","StateProvider","children","useReducer","state","action","type","data","timestamp","moment","macAddress","items","reduce","agg","tagData","tag","sku","getSkuCode","reader","transformRfidTagUpdate","newTags","newReaders","Object","keys","id","calculateStats","console","warn","dispatch","value","SkuCard","Card","className","Header","as","style","Body","ReaderCard","SkuBadge","Badge","variant","backgroundColor","App","useContext","useEffect","io","on","err","close","useWebSocket","Navbar","bg","expand","Brand","href","src","Logo","alt","Text","Container","Row","Col","Alert","key","sm","md","Table","bordered","calendar","ReactDOM","render","document","getElementById"],"mappings":"gGAAAA,EAAOC,QAAU,kzH,kvBCGjB,IAAMC,EAAa,CAClB,CAAEC,KAAM,EAAGC,KAAM,OAAQC,MAAO,WAChC,CAAEF,KAAM,EAAGC,KAAM,SAAUC,MAAO,WAClC,CAAEF,KAAM,EAAGC,KAAM,QAASC,MAAO,WACjC,CAAEF,KAAM,EAAGC,KAAM,OAAQC,MAAO,WAChC,CAAEF,KAAM,EAAGC,KAAM,SAAUC,MAAO,YAG7BC,EAAe,CACpBC,UAAW,CACVC,WAAW,EACXC,MAAO,KACPC,OAAQ,MAETC,YAAa,EACbC,QAAS,GACTC,KAAM,GACNC,KAAMZ,EAAWa,KAAI,SAAAC,GAAC,YAAUA,EAAV,CAAaC,MAAO,QAGrCC,EAAQC,wBAAcb,GACpBc,EAAaF,EAAbE,SAKFC,EAAc,SAACC,GACpB,IAAIC,EAAM,GADkB,uBAE5B,YAAcD,EAAd,+CAAmB,CAClBC,IAAQ,KAAW,IADD,SACOC,SAAS,KAAKC,OAAO,IAHnB,kFAK5B,OAAOF,GAGFG,EAA2B,SAACJ,GAAD,IAAMK,EAAN,uDAAY,IAAZ,OAAoBN,EAAYC,GAAKM,QAAQ,UAAzB,YAAyCD,IAAOF,MAAM,GAAI,IAoCzGI,EAAgB,SAAC,GAAoB,IAAjBC,EAAgB,EAAhBA,SAAgB,EACdC,sBAAW,SAACC,EAAOC,GAC3C,OAAOA,EAAOC,MACf,IAAK,sBACJ,OAAO,EAAP,GACIF,EADJ,CAECzB,UAAU,EAAD,GACLyB,EAAMzB,UADD,CAERC,WAAW,EACXE,OAAQuB,EAAOvB,WAGlB,IAAK,yBACJ,OAAO,EAAP,GACIsB,EADJ,CAECzB,UAAU,EAAD,GACLyB,EAAMzB,UADD,CAERC,WAAW,EACXE,OAAQ,SAGX,IAAK,kBACJ,OAAO,EAAP,GACIsB,EADJ,CAECzB,UAAU,EAAD,GACLyB,EAAMzB,UADD,CAERE,MAAOwB,EAAOxB,UAGjB,IAAK,uBAAL,MA/D4B,SAAC,GAAmB,EAAjByB,KAAkB,IAAZC,EAAW,EAAXA,KACjCC,EAAYC,IAAOF,EAAKC,WACxBE,EAAaZ,EAAyBS,EAAKG,YAgBjD,MAAO,CAAEzB,KAfIsB,EAAKI,MAAMC,QAAO,SAACC,EAAKC,GACpC,IAAMC,EAAMjB,EAAyBgB,GAC/BE,EAjBW,SAACT,GAAD,OAAUA,EAAK,GAAK,EAiBzBU,CAAWH,GAOvB,OANAD,EAAIE,GAAO,CACVP,YACAE,aACAK,MACAC,OAEMH,IACL,IAKYK,OAJA,CACdV,YACAE,eAgD2BS,CAAuBd,GAAxCpB,EADT,EACSA,KAAMiC,EADf,EACeA,OACRE,EAAO,KACThB,EAAMnB,KADG,GAETA,GAEAF,EAAcqB,EAAMrB,YANzB,EA1CoB,SAAC,GAMvB,IAN8C,IAArBE,EAAoB,EAApBA,KAAMD,EAAc,EAAdA,QACzBE,EAAOZ,EAAWa,KAAI,SAAAC,GAAC,YAAUA,EAAV,CAAaC,MAAO,OAC3CgC,EAAaC,OAAOC,KAAKvC,GAAS4B,QAAO,SAACC,EAAKW,GAEpD,OADAX,EAAIW,GAAJ,KAAexC,EAAQwC,GAAvB,CAA4BnC,MAAO,IAC5BwB,IACL,IACH,MAAeS,OAAOC,KAAKtC,GAA3B,eAAkC,CAA7B,IAAIuC,EAAE,KACVtC,EAAKD,EAAKuC,GAAIR,KAAK3B,QACnBgC,EAAWpC,EAAKuC,GAAId,YAAYrB,QAEjC,MAAO,CAAEH,OAAMF,QAASqC,GA8CeI,CAAe,CAAExC,KAAMmC,EAASpC,QAPtDoB,EAAMpB,QAAQkC,EAAOR,YAArB,KAAwCN,EAAMpB,SAA9C,KACVoB,EAAMpB,QADI,eAEZkC,EAAOR,WAFK,KAGTQ,EAHS,CAIZ1C,KAAK,WAAD,SAAeO,SAGfG,EAdP,EAcOA,KAGN,OAAO,EAAP,GACIkB,EADJ,CAECpB,QAnBF,EAcaA,QAMXC,KAAMmC,EACNlC,OACAH,gBAEC,QAEF,OADA2C,QAAQC,KAAR,kCAAwCtB,EAAOC,MAAQD,GAChDD,KAEN1B,GAzDqC,mBACjC0B,EADiC,KAC1BwB,EAD0B,KA2DxC,OAAO,kBAAC,EAAD,CAAUC,MAAO,CAAEzB,QAAOwB,aAAa1B,I,gGCpH1C4B,G,MAAU,SAAC,GAAD,IAAGd,EAAH,EAAGA,IAAH,OACd,kBAACe,EAAA,EAAD,CAAMC,UAAU,mBACd,kBAACD,EAAA,EAAKE,OAAN,CAAaC,GAAG,KAAKC,MAAO,CAAE1D,MAAOuC,EAAIvC,OAASuD,UAAU,0BAA0BhB,EAAIxC,MAC1F,kBAACuD,EAAA,EAAKK,KAAN,KACE,wBAAID,MAAO,CAAE1D,MAAOuC,EAAIvC,OAASuD,UAAU,2BAA2BhB,EAAI3B,OAC1E,wBAAI8C,MAAO,CAAE1D,MAAOuC,EAAIvC,OAASuD,UAAU,iCAA3C,YAKAK,EAAa,SAAC,GAAD,IAAGnB,EAAH,EAAGA,OAAH,OACjB,kBAACa,EAAA,EAAD,CAAMC,UAAU,mBACd,kBAACD,EAAA,EAAKE,OAAN,CAAaC,GAAG,KAAKC,MAAO,CAAE1D,MAAOyC,EAAOzC,OAASuD,UAAU,0BAA0Bd,EAAO1C,MAChG,kBAACuD,EAAA,EAAKK,KAAN,KACE,wBAAID,MAAO,CAAE1D,MAAOyC,EAAOzC,OAASuD,UAAU,2BAA2Bd,EAAO7B,OAChF,wBAAI2C,UAAU,iCAAd,WAKAM,EAAW,SAAC,GAAD,IAAGtB,EAAH,EAAGA,IAAH,OACf,kBAACuB,EAAA,EAAD,CAAOC,QAAQ,YAAYR,UAAU,wBAAwBG,MAAO,CAACM,gBAAiBzB,EAAIvC,QAASuC,EAAIxC,OAGnGkE,EAAM,WAAO,IAAD,EChCG,WACpB,IAAMtC,EAAQuC,qBAAWrD,GAChBsC,EAAaxB,EAAbwB,SAwBT,OAtBCgB,qBAAU,WACR,IAAM9D,EAAyB+D,MAgB/B,OAdA/D,EAAOgE,GAAG,WAAW,WACnBlB,EAAS,CAAEtB,KAAM,sBAAuBxB,cAE1CA,EAAOgE,GAAG,cAAc,WACtBlB,EAAS,CAAEtB,KAAM,yBAA0BxB,cAE7CA,EAAOgE,GAAG,SAAS,SAACC,GAClBrB,QAAQ7C,MAAM,kBAAmBkE,GACjCnB,EAAS,CAAEtB,KAAM,kBAAmBzB,MAAOkE,OAE7CjE,EAAOgE,GAAG,wBAAwB,SAACvC,GACjCqB,EAAS,CAAEtB,KAAM,uBAAwBC,YAGpC,WACLzB,EAAOkE,WAET,CAAEpB,IAEE,CAAExB,GDOc6C,GAAZ7C,EADM,oBACNA,MACFzB,EAAgDyB,EAAhDzB,UAAWM,EAAqCmB,EAArCnB,KAAMD,EAA+BoB,EAA/BpB,QAASE,EAAsBkB,EAAtBlB,KAAMH,EAAgBqB,EAAhBrB,YAExC,OACE,yBAAKiD,UAAU,OACb,kBAACkB,EAAA,EAAD,CAAQC,GAAG,QAAQC,OAAO,KAAKpB,UAAU,gBACvC,kBAACkB,EAAA,EAAOG,MAAR,CAAcC,KAAK,KACjB,yBAAKC,IAAKC,IAAMC,IAAI,kBAAkBzB,UAAU,wBAElD,kBAACkB,EAAA,EAAOQ,KAAR,CAAa1B,UAAU,0CAAvB,oBAIF,kBAAC2B,EAAA,EAAD,CAAW3B,UAAU,sBACjBrD,EAAUC,WACV,kBAACgF,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,CAAOtB,QAAQ,SAASR,UAAU,eAAlC,gFAIJjD,GACA,kBAAC6E,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,CAAOtB,QAAQ,OAAOR,UAAU,eAAhC,mCAKHjD,GACD,oCACE,kBAAC6E,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,KACE,wBAAI7B,UAAU,eAAd,gBACA,+BAGJ,kBAAC4B,EAAA,EAAD,KACG1E,EAAKC,KAAI,SAAC6B,GAAD,OACR,kBAAC6C,EAAA,EAAD,CAAKE,IAAK/C,EAAIzC,KAAMyF,GAAI,EAAGC,GAAI,EAAGjC,UAAU,QAC1C,kBAAC,EAAD,CAAShB,IAAKA,SAKpB,kBAAC4C,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,KACE,wBAAI7B,UAAU,eAAd,WACA,+BAGJ,kBAAC4B,EAAA,EAAD,KACGtC,OAAOC,KAAKvC,GAASG,KAAI,SAACqC,GACzB,IAAMN,EAASlC,EAAQwC,GACvB,OACE,kBAACqC,EAAA,EAAD,CAAKE,IAAK7C,EAAOR,WAAYsD,GAAI,EAAGC,GAAI,EAAGjC,UAAU,QACnD,kBAAC,EAAD,CAAYd,OAAQA,SAM5B,kBAAC0C,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,KACE,wBAAI7B,UAAU,eAAd,QACA,+BAGJ,kBAAC4B,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,KACA,kBAACK,EAAA,EAAD,CAAOC,UAAQ,GACb,+BACE,4BACE,mCACA,mCACA,sCACA,6CAGJ,+BACG7C,OAAOC,KAAKtC,GAAME,KAAI,SAACqC,GACtB,IAAMT,EAAM9B,EAAKuC,GACjB,OACE,wBAAIuC,IAAKhD,EAAIA,KACX,4BAAKA,EAAIA,KACT,4BAAI,kBAAC,EAAD,CAAUC,IAAK9B,EAAK6B,EAAIC,QAC5B,4BAAKhC,EAAQ+B,EAAIL,YAAYlC,MAC7B,4BAAKuC,EAAIP,UAAU4D,wBAuB5B5E,EARE,WACf,OACE,kBAAC,EAAD,KACE,kBAAC,EAAD,QE9IN6E,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,W","file":"static/js/main.a96d586a.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","import React, {createContext, useReducer} from 'react';\nimport moment from 'moment';\n\nconst masterSkus = [\n\t{ code: 0, name: 'Blue', color: '#5da5da' },\n\t{ code: 1, name: 'Orange', color: '#faa43a' },\n\t{ code: 2, name: 'Green', color: '#60bd68' },\n\t{ code: 3, name: 'Pink', color: '#f17cb0' },\n\t{ code: 4, name: 'Purple', color: '#b276b2' },\n];\n\nconst initialState = {\n\twebsocket: {\n\t\tconnected: false,\n\t\terror: null,\n\t\tsocket: null,\n\t},\n\treaderCount: 0,\n\treaders: {},\n\ttags: {},\n\tskus: masterSkus.map(x => ({ ...x, count: 0 })),\n};\n\nconst store = createContext(initialState);\nconst { Provider } = store;\n\n// SKU code of 0-4, based on first byte of EPC\nconst getSkuCode = (data) => data[0] % 5;\n\nconst toHexString = (arr) => {\n\tlet str = '';\n\tfor (let b of arr) {\n\t\tstr += ('0' + (b & 0xFF).toString(16)).slice(-2);\n\t}\n\treturn str;\n};\n\nconst toHexStringWithSeparator = (arr, sep = ':') => toHexString(arr).replace(/(.{2})/g, `$1${sep}`).slice(0, -1);\n\nconst transformRfidTagUpdate = ({ type, data }) => {\n\tconst timestamp = moment(data.timestamp);\n\tconst macAddress = toHexStringWithSeparator(data.macAddress);\n\tconst tags = data.items.reduce((agg, tagData) => {\n\t\tconst tag = toHexStringWithSeparator(tagData);\n\t\tconst sku = getSkuCode(tagData);\n\t\tagg[tag] = {\n\t\t\ttimestamp,\n\t\t\tmacAddress,\n\t\t\ttag,\n\t\t\tsku,\n\t\t};\n\t\treturn agg;\n\t}, {});\n\tconst reader = {\n\t\ttimestamp,\n\t\tmacAddress,\n\t};\n\treturn { tags, reader };\n};\n\nconst calculateStats = ({ tags, readers }) => {\n\tconst skus = masterSkus.map(x => ({ ...x, count: 0 }));\n\tconst newReaders = Object.keys(readers).reduce((agg, id) => {\n\t\tagg[id] = { ...readers[id], count: 0 };\n\t\treturn agg;\n\t}, {});\n\tfor (let id of Object.keys(tags)) {\n\t\tskus[tags[id].sku].count++;\n\t\tnewReaders[tags[id].macAddress].count++;\n\t}\n\treturn { skus, readers: newReaders };\n};\n\nconst StateProvider = ( { children } ) => {\n  const [state, dispatch] = useReducer((state, action) => {\n    switch(action.type) {\n\t\t\tcase 'websocket.connected':\n\t\t\t\treturn {\n\t\t\t\t\t...state,\n\t\t\t\t\twebsocket: {\n\t\t\t\t\t\t...state.websocket,\n\t\t\t\t\t\tconnected: true,\n\t\t\t\t\t\tsocket: action.socket,\n\t\t\t\t\t},\n\t\t\t\t};\n\t\t\tcase 'websocket.disconnected':\n\t\t\t\treturn {\n\t\t\t\t\t...state,\n\t\t\t\t\twebsocket: {\n\t\t\t\t\t\t...state.websocket,\n\t\t\t\t\t\tconnected: false,\n\t\t\t\t\t\tsocket: null,\n\t\t\t\t\t},\n\t\t\t\t};\n\t\t\tcase 'websocket.error':\n\t\t\t\treturn {\n\t\t\t\t\t...state,\n\t\t\t\t\twebsocket: {\n\t\t\t\t\t\t...state.websocket,\n\t\t\t\t\t\terror: action.error,\n\t\t\t\t\t},\n\t\t\t\t};\n\t\t\tcase 'mesh.rfid.tag_update':\n\t\t\t\tconst { tags, reader } = transformRfidTagUpdate(action);\n\t\t\t\tconst newTags = {\n\t\t\t\t\t...state.tags,\n\t\t\t\t\t...tags,\n\t\t\t\t};\n\t\t\t\tlet readerCount = state.readerCount;\n\t\t\t\tlet readers = state.readers[reader.macAddress] ? { ...state.readers } : {\n\t\t\t\t\t...state.readers,\n\t\t\t\t\t[reader.macAddress]: {\n\t\t\t\t\t\t...reader,\n\t\t\t\t\t\tname: `Reader #${++readerCount}`,\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tlet { skus, readers: newReaders } = calculateStats({ tags: newTags, readers });\n\t\t\t\t\n\t\t\t\t\n\t\t\t\treturn {\n\t\t\t\t\t...state,\n\t\t\t\t\treaders: newReaders,\n\t\t\t\t\ttags: newTags,\n\t\t\t\t\tskus,\n\t\t\t\t\treaderCount,\n\t\t\t\t};\n      default:\n\t\t\t\tconsole.warn(`Unexpected action type: ${action.type}`, action);\n\t\t\t\treturn state;\n    };\n  }, initialState);\n\n  return <Provider value={{ state, dispatch }}>{children}</Provider>;\n};\n\nexport { store, StateProvider };\n","import React from 'react';\nimport { StateProvider } from './store';\nimport { useWebSocket } from './websocket';\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Card from 'react-bootstrap/Card';\nimport Alert from 'react-bootstrap/Alert';\nimport Navbar from 'react-bootstrap/Navbar';\nimport Table from 'react-bootstrap/Table';\nimport Badge from 'react-bootstrap/Badge';\n\nimport Logo from './assets/img/logo.png';\n\nimport './styles.scss';\n\nconst SkuCard = ({ sku }) => (\n  <Card className=\"dashboard--card\">\n    <Card.Header as=\"h5\" style={{ color: sku.color }} className=\"dashboard--card--title\">{sku.name}</Card.Header>\n    <Card.Body>\n      <h1 style={{ color: sku.color }} className=\"dashboard--card--number\">{sku.count}</h1>\n      <h5 style={{ color: sku.color }} className=\"dashboard--card--number--unit\">TAGS</h5>\n    </Card.Body>\n  </Card>\n);\n\nconst ReaderCard = ({ reader }) => (\n  <Card className=\"dashboard--card\">\n    <Card.Header as=\"h5\" style={{ color: reader.color }} className=\"dashboard--card--title\">{reader.name}</Card.Header>\n    <Card.Body>\n      <h1 style={{ color: reader.color }} className=\"dashboard--card--number\">{reader.count}</h1>\n      <h5 className=\"dashboard--card--number--unit\">TAGS</h5>\n    </Card.Body>\n  </Card>\n);\n\nconst SkuBadge = ({ sku }) => (\n  <Badge variant=\"secondary\" className=\"dashboard--badge--sku\" style={{backgroundColor: sku.color}}>{sku.name}</Badge>\n);\n\nconst App = () => {\n  const [ { state } ] = useWebSocket();\n  const { websocket, tags, readers, skus, readerCount } = state;\n\n  return (\n    <div className=\"app\">\n      <Navbar bg=\"light\" expand=\"lg\" className=\"page--header\">\n        <Navbar.Brand href=\"/\">\n          <img src={Logo} alt=\"IoTechnics Logo\" className=\"page--header--logo\" />\n        </Navbar.Brand>\n        <Navbar.Text className=\"justify-content-end page--header--text\">\n          RFID Stock Demo\n        </Navbar.Text>\n      </Navbar>\n      <Container className=\"p-4 page--content\">\n        {!websocket.connected &&\n          <Row>\n            <Col>\n              <Alert variant=\"danger\" className=\"text-center\">Connection to server lost, please check the API is running and accessible</Alert>\n            </Col>\n          </Row>\n        }\n        {!readerCount && \n          <Row>\n            <Col>\n              <Alert variant=\"info\" className=\"text-center\">Waiting for RFID updates...</Alert>\n            </Col>\n          </Row>\n        }\n\n        {!!readerCount && \n          <>\n            <Row>\n              <Col>\n                <h1 className=\"text-center\">PRODUCT SKUS</h1>\n                <hr />\n              </Col>\n            </Row>\n            <Row>\n              {skus.map((sku) => (\n                <Col key={sku.code} sm={6} md={4} className=\"mb-4\">\n                  <SkuCard sku={sku} />\n                </Col>\n              ))}\n            </Row>\n\n            <Row>\n              <Col>\n                <h1 className=\"text-center\">READERS</h1>\n                <hr />\n              </Col>\n            </Row>\n            <Row>\n              {Object.keys(readers).map((id) => {\n                const reader = readers[id];\n                return (\n                  <Col key={reader.macAddress} sm={6} md={4} className=\"mb-4\">\n                    <ReaderCard reader={reader} />\n                  </Col>\n                );\n              })}\n            </Row>\n\n            <Row>\n              <Col>\n                <h1 className=\"text-center\">TAGS</h1>\n                <hr />\n              </Col>\n            </Row>\n            <Row>\n              <Col>\n              <Table bordered>\n                <thead>\n                  <tr>\n                    <th>TAG</th>\n                    <th>SKU</th>\n                    <th>READER</th>\n                    <th>LAST UPDATE</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {Object.keys(tags).map((id) => {\n                    const tag = tags[id];\n                    return (\n                      <tr key={tag.tag}>\n                        <td>{tag.tag}</td>\n                        <td><SkuBadge sku={skus[tag.sku]} /></td>\n                        <td>{readers[tag.macAddress].name}</td>\n                        <td>{tag.timestamp.calendar()}</td>\n                      </tr>\n                    );\n                  })}\n                </tbody>\n              </Table>\n              </Col>\n            </Row>\n            </>\n          }\n      </Container>\n    </div>\n  );\n};\n\nconst Provider = () => {\n  return (\n    <StateProvider>\n      <App />\n    </StateProvider>\n  )\n};\n\nexport default Provider;\n","import { useContext, useEffect } from 'react';\nimport io from 'socket.io-client';\nimport { store } from './store';\n\nconst uri = process.env.NODE_ENV === 'development'\n  ? 'http://localhost:5000'\n  : null;\n\nconst useWebSocket = () => {\n\tconst state = useContext(store);\n  const { dispatch } = state;\n\n  useEffect(() => {\n    const socket = uri ? io(uri) : io();\n\n    socket.on('connect', () => {\n      dispatch({ type: 'websocket.connected', socket });\n    });\n    socket.on('disconnect', () => {\n      dispatch({ type: 'websocket.disconnected', socket });\n    });\n    socket.on('error', (err) => {\n      console.error('Websocket error', err);\n      dispatch({ type: 'websocket.error', error: err });\n    });\n    socket.on('mesh.rfid.tag_update', (data) => {\n      dispatch({ type: 'mesh.rfid.tag_update', data });\n    });\n\n    return () => {\n      socket.close();\n    }\n\t}, [ dispatch ]);\n\t\n\treturn [ state ];\n};\n\nexport {\n\tuseWebSocket,\n};","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}